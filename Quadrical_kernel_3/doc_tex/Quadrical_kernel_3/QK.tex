%\ignore{

\section{Introduction and Software Design}

The 3D quadrical kernel aims to provide the user basic functionality
on quadrics and their spatial intersection curves. It is 
consistent to most existing design choices taken in \cgal. To better
understand these principles we refer to the kernel manual of \cgal.
In its current version, it should be seen as design study of its desired
content. Full details will be worked out, such as the concrete
interoperability with the existing linear and spherical kernel of \cgal.
Note that the 3D quadrical kernel uses basic types taking 
from these kernels. Main new geometric object provided by the proposed
concept are \ccc{Quadric_3}, \ccc{Curve_3}, \ccc{Curve_point_3},
 and \ccc{Curve_arc_3}.

We currently can think of two approaches that
could provide models for the quadrical kernel concept.
The available 
implementations differ on the question whether intersection curves get 
parameterized~\cite{cgal:lazard04b}, 
or projected~\cite{cgal:bhksw-eceicpmqic-05}.

%\section{Software Design}

%The quadrical kernel is instantiated with two template parameters:
%\begin{itemize}
%\item {} the \ccc{SphericalKernel}, from which the quadrical
%kernel inherits basic elementary linear and also
%spherical objects.
%\item {} the second parameter is an algebraic kernel, which is 
%responsible for computations on polynomials and real algebraic numbers. It 
%has to be a model of concept \ccc{AlgebraicKernelForQuadrics}. The
%robustness of the package relies on the fact that the algebraic kernel
%provides exact computations on algebraic objects.
%\end{itemize}

\section{Design Rationales and Discussion}

The proposed concept follows mainly the discussions of similar
geometric and algebraic kernels. In contrast to the circular
and spherical world, quadrics poses additional problems that do 
not have appeared before. 

The first difficulty is hidden in the spatial intersection curves.
Spheres intersect in spatial circles, that might be degenerated
to a point in the case where two spheres only touch. These spatial circles
have advantages: 
\begin{itemize}
\item They are bounded. 
\item They consist of one irreducible algebraic component. This implies the 
third.
\item They consist of a single connected component.
\item They are even embedded in a rational plane.
\end{itemize}
In general, all properties get lost when switching to spatial 
intersection curves of arbitrary quadrics.
Actually, we can think of three different definitions for
a type called \ccc{Curve_3}.
\begin{enumerate}
\item The one-dimensional zero set of a polynomial
system, i.e., the algebraic space curve, or 
\item an algebraically irreducible factor of the former system, or 
\item a maximal connected component
of the zero set.
\end{enumerate}
One solution is to fix the concept of \ccc{Curve_3} to one of the
three definitions and to modify involved methods accordingly.
On the other hand, we can assume the type to be 
polymorphic, i.e., it is possible
to represent all definitions and marking each instance with a corresponding
flag. In both cases proper decomposition/transversions
methods may be required, i.e., at least from (1) to (2) and from (2) to (3).


Another problem is the correct handling of infinite objects. In the linear
world planes, lines, and rays are also infinite, but have a
simple behavior towards infinity. These objects have proper interfaces,
but only recently they have been considered to be handled, e.g.,
in the {\tt Arrangement\_2} package. 
Handling infinity for quadrics and also their intersection curves cannot
be neglected, since they pose a significant subset of the possible input.
In a homogeneous version of a quadrical kernel, the handling of infinity
is done automatically. More care has to be taken 
for the affine version that is presented.
A first observation is that instances of the later concept 
\ccc{CurvePoint_3} only have to represent finite points.
This fact has implications on the decision of what is represented
by an instance of \ccc{CurveArc_3}.
Spatial curves can be infinite,
can consist of several algebraic or connected components, or even can have 
self-intersection. Four different situations for maximal connected
components can be distinguished: 
\begin{itemize}
\item it is closed, i.e., it forms a loop. Otherwise,
\item both ends are finite, or
\item only one end is finite, like a {\em ray}, or 
\item both ends are infinite, like a {\em branch}
\end{itemize}
It is unclear
whether different types should be introduced, like \ccc{Curve_loop_3},
\ccc{Curve_arc_3}, 
\ccc{Curve_ray_3} and \ccc{Curve_branch_3}, or
all are encoded by a single ``polymorphic'' type \ccc{Curve_arc_3}. 
We decided for the latter, with the precondition
that end-points can only be accessed if they are finite. Loops, e.g.,
could be decomposed into two or more \ccc{Curve_arc_3}s.

\section{Functors}

The quadrical kernel offers a list of functors. 
The reference manual of the concepts only mentions
the main functors, while similar or easy ones are omitted in full details.
We list these concepts here, together with their task.

\begin{description}
\item[CompareY\_3] compares $y$-coordinates of two points
\item[CompareZ\_3] compares $z$-coordinates of two points
\item[CompareXY\_3] compares $x$- and $y$-coordinates of two points 
lexicographically
\item[CompareXYZ\_3] compare $x$-, $y$, and $z$-coordinates of two points
lexicographically
\item [Equal\_3] returns whether two objects of the same type are equal
\item [DoOverlap\_3] returns whether two objects intersect in an infinite 
number of points
\item [ConstructCurveArcMinVertex\_3, 
ConstructCurveArcMaxVertex\_3]
returns the lexicgraphical smaller, or larger respectlively, 
point of an arc, if it is finite
\item [ConstructCurveArcSourceVertex\_3, 
ConstructCurveArcTargetVertex\_3] 
returns source point, or target point respectively, of an arc, if it is finite
\item [ConstructSupportingCurve\_3] returns for a point or an arc its
supporting \ccc{Curve_3}
\item [GetEquation] returns the polynomial for a given quadric
\end{description}

%TODO explain functors .. only the main ones are described with full details 
%later, namely: 
% CompareX\_3, ConstructQuadric\_3, ConstructCurve\_3,
%ArcsOfCurve\_3

%For the algebraic kernel the functors in the following list
%are similar to ones explained later in full detail.
%\begin{description}
%\item[Compare\_y] compares $y$-values of two \ccc{AlgebraicReal_3}
%\item[Compare\_z] compares $z$-values of two \ccc{AlgebraicReal_3}
%\item[Compare\_xy] compares $x$- and $y$-values of two \ccc{AlgebraicReal_3}
%lexicographically
%\item[Compare\_xyz] compare $x$-, $y$, and $z$-values of two 
%\ccc{AlgebraicReal_3} lexicographically
%\item[Y\_critical\_points] computes $y$-critical points of an algebraic object
%\item[Z\_critical\_points] computes $z$-critical points of an algebraic object
%\end{description}

%AK-Detailed: CompareX, SignAt, XCriticalPoints, Solve

\section{Acknowledgements}

This work is partially supported by the IST Programme of the 6th
Framework Programme of the EU as a STREP (FET Open Scheme) Project
under Contract No IST-006413 (\ccAnchor{http://acs.cs.rug.nl/}{ACS} -
Algorithms for Complex Shapes).

%\begin{thebibliography}{10}
%
%\bibitem{bhksw-eceicpmqic-05}
%E.~Berberich, M.~Hemmer, L.~Kettner, E.~Sch{\"o}mer, and N.~Wolpert.
%\newblock An exact, complete and efficient implementation for computing planar
%  maps of quadric intersection curves.
%\newblock In {\em Proc. 21st Annu. Sympos. Comput. Geom. (SCG)}, pages 99--106,
%  2005.

%\bibitem{lazard04b}
%S.~Lazard, L.~M. Pe{\~n}aranda, and S.~Petitjean.
%\newblock Intersecting quadrics\,: An efficient and exact implementation.
%\newblock In {\em {ACM Symposium on Computational Geometry - SoCG'2004,
%  Brooklyn, NY}}, Jun 2004.

%\end{thebibliography}

